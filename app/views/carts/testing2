<head>
    <%= stylesheet_link_tag "cart.css" %>
</head>

<body>
    <div class="container-fluid">
        <div class="row">
            <aside class="col-lg-9">
                <div class="card">
                    <div class="table-responsive">
                        <table class="table table-borderless table-shopping-cart">
                            <thead class="text-muted">
                                <tr class="small text-uppercase">
                                    <th scope="col">Product</th>
                                    <th scope="col" width="120">Quantity</th>
                                    <th scope="col" width="120">Price</th>
                                    <th scope="col" width="120">Total</th>
                                    <th scope="col" class="text-right d-none d-md-block" width="200"></th>
                                </tr>
                            </thead>
                            <tbody class="align-middle">
                                <%= render partial: "cart_item" , collection: @cart_items %>
                            </tbody>
                        </table>
                    </div>
                </div>
            </aside>
            <aside class="col-lg-3">
                <div class="card mb-3">
                    <div class="card-body">
                        <form>
                            <div class="form-group"> <label>Have coupon?</label>
                                <div class="input-group"> <input type="text" class="form-control coupon" name=""
                                        placeholder="Coupon code"> <span class="input-group-append"> <button
                                            class="btn btn-primary btn-apply coupon">Apply</button> </span> </div>
                            </div>
                        </form>
                    </div>
                </div>
                <div class="card">
                    <div class="card-body">
                        <dl class="dlist-align">
                            <dt>Total price:</dt>
                            <dd class="text-right ml-3">$69.97</dd>
                        </dl>
                        <dl class="dlist-align">
                            <dt>Discount:</dt>
                            <dd class="text-right text-danger ml-3">- $10.00</dd>
                        </dl>
                        <dl class="dlist-align">
                            <dt>Total:</dt>
                            <dd class="text-right text-dark b ml-3"><strong>$59.97</strong></dd>
                        </dl>
                        <hr> <a href="#" class="btn btn-out btn-primary btn-square btn-main" data-abc="true"> Make
                            Purchase </a> <a href="#" class="btn btn-out btn-success btn-square btn-main mt-2"
                            data-abc="true">Continue Shopping</a>
                    </div>
                </div>
            </aside>
        </div>
    </div>
</body>









<tr id="cart-item">
    <td>
        <figure class="itemside align-items-center">
            <%= image_tag cart_item.product.images.first, style: "width: 200px;" %>
                <figcaption class="info"> <a href="#" class="title text-dark" data-abc="true">
                        <%= cart_item.product.product_name%>
                    </a>
                    <p class="small text-muted">Description:<br>
                        <%= cart_item.product.description%>
                    </p>
                </figcaption>
        </figure>
    </td>
    <td class="align-middle">
        <div class="input-group quantity mx-auto" style="width: 100px;">
            <%= button_to "-  " , cart_product_path(cart_item), class: 'btn btn-sm text-dark p-0' , remote: true,
                method: "put" , params: {quantity:(cart_item.quantity-1)} %>
                <h5 id="cart-item-quantity-<%=cart_item.id%>">
                    <%= cart_item.quantity%>
                </h5>
                <%= button_to "  +" , cart_product_path(cart_item), class: 'btn btn-sm text-dark p-0' , remote: true,
                    method: "put" , params: {quantity:(cart_item.quantity+1)} %>
        </div>
    </td>
    <td class="align-middle">
        <div class="price-wrap">
            <%= cart_item.product.price%> $
        </div>
    </td>
    <td class="align-middle">
        <h6 id="cart-item-total-<%=cart_item.id%>">
            <%= cart_item.product.price * cart_item.quantity %> $
        </h6>
    </td>
    <td class="text-middle d-none d-md-block"> <a href="" class="btn btn-light btn-round" data-abc="true"> Remove</a>
    </td>
</tr>